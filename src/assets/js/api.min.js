const API={BASE_URL:function(){let a="//api."+window.location.host.replace("www.","")+"/v1.0";return-1===window.location.host.indexOf("loc.")&&-1===window.location.host.indexOf("localhost")||(a="//api."+window.location.host+"/v1.0"),-1!==window.location.host.indexOf("dev.")&&(a="//api."+window.location.host+"/v1.0"),-1!==window.location.host.indexOf("127.0.0.1")&&(a="https://api.dev.kkikda.com/v1.0"),a}(),sendEmailConfirmCode:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/sendConfirmCode/`,type:"POST",data:{token:window.localStorage.token,lang:window.localStorage.locale,media:"email",email_address:a,lang:window.localStorage.locale},success:a=>{e&&e(a)},error:()=>{}})},sendMobileConfirmCode:(a,e,o=null)=>{const l=new libphonenumber.AsYouType;l.input(a+"-"+e),$.ajax({url:`${API.BASE_URL}/sendConfirmCode/`,type:"POST",data:{token:window.localStorage.token,lang:window.localStorage.locale,media:"mobile",mobile_number:l.getNumber().number,mobile_country_code:l.getNumber().country,lang:window.localStorage.locale},success:a=>{o&&o(a)}})},checkJoin:(a,e,o=null)=>{$.ajax({url:`${API.BASE_URL}/checkJoin/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,media:a,ids:e,lang:"en"},success:a=>{o&&o(a)}})},checkEmailConfirmCode:(a,e,o=null)=>{$.ajax({url:`${API.BASE_URL}/checkConfirmCode/`,type:"POST",data:{token:window.localStorage.token,lang:window.localStorage.locale,media:"email",email_address:a,confirm_number:e},success:a=>{o&&o(a)}})},checkMobileConfirmCode:(a,e,o=null)=>{$.ajax({url:`${API.BASE_URL}/checkConfirmCode/`,type:"POST",data:{token:window.localStorage.token,lang:window.localStorage.locale,media:"mobile",mobile_number:a,confirm_number:e},success:a=>{o&&o(a)}})},join:(a,e=null)=>{a=$.extend(a,{token:window.localStorage.token,lang:window.localStorage.locale,os:os}),$.ajax({url:`${API.BASE_URL}/socialJoin/`,type:"POST",dataType:"JSON",data:a,success:a=>{e&&e(a)}})},login:(a,e,o=null)=>{$.ajax({url:`${API.BASE_URL}/socialLogin/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,social_id:a,social_name:"email",userpw:e,os:os},success:a=>{a.success&&(window.localStorage.token=a.payload.token),o&&o(a)}})},logout:(a=null)=>{$.ajax({url:`${API.BASE_URL}/logout/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale},success:e=>{a&&a(e)}})},findPW:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/findinfo/findpw.php`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,address:a,address_type:"email"},success:a=>{e&&e(a)}})},getToken:(a=null)=>{$.ajax({url:`${API.BASE_URL}/getToken/`,type:"POST",dataType:"JSON",success:e=>{a&&a(e)}})},checkPin:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/checkPin/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,pin:a},success:a=>{e&&e(a)}})},putMyInfo:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/putMyInfo/`,type:"POST",dataType:"JSON",data:$.extend({},a,{token:window.localStorage.token,lang:window.localStorage.locale}),success:a=>{e&&e(a)}})},getTradingList:(a,e=null,o=1,l=null)=>{$.ajax({url:`${API.BASE_URL}/getTradingList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,symbol:a,exchange:e,page:o,rows:100},success:a=>{l&&l(a)}})},getTransactionList:(a,e=1,o=null)=>{$.ajax({url:`${API.BASE_URL}/getTransactionList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,symbol:a,page:e,rows:100},success:a=>{o&&o(a)}})},getMyInfo:a=>{$.ajax({url:`${API.BASE_URL}/getMyInfo/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale},success:e=>{a(e)}})},getMyRevenueStatus:(a=1,e=null)=>{$.ajax({url:`${API.BASE_URL}/getMyRevenueStatus/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,symbol:",",exchange:"KRW",page:a},success:a=>{e(a)}})},getBalance:(a="ALL",e=null,o=null)=>{$.ajax({url:`${API.BASE_URL}/getBalance/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,symbol:a,exchange:e},success:a=>{o&&o(a)}})},getBBSList:(a,e=1,o=10,l=null)=>{$.ajax({url:`${API.BASE_URL}/getBBSList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,bbscode:a,page:e,rows:o},success:a=>{l&&l(a)}})},getFaqList:(a=1,e=20,o=null)=>{$.ajax({url:`${API.BASE_URL}/getFaqList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,faqcode:"",page:a,rows:e},success:a=>{o&&o(a)}})},getBBSView:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/getBBSView/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,idx:a},success:a=>{e&&e(a)}})},getM2MList:(a=1,e=null)=>{$.ajax({url:`${API.BASE_URL}/getM2MList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,page:a,rows:10},success:a=>{e&&e(a)}})},putM2M:(a,e,o=null,l=null)=>{$.ajax({url:`${API.BASE_URL}/putM2M/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,subject:a,contents:e,idx:o},success:a=>{l&&l(a)}})},getCurrency:(a=null,e)=>{$.ajax({url:`${API.BASE_URL}/getCurrency/`,type:"POST",dataType:"JSON",data:{lang:window.localStorage.locale,symbol:a},success:a=>{e(a)},error:a=>{}})},getChartData:(a,e="1d",o)=>{$.ajax({url:`${API.BASE_URL}/getChartData/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,symbol:a,period:e},success:a=>{o(a)}})},getLanguageList:a=>{$.ajax({url:`${API.BASE_URL}/getLanguageList/`,type:"POST",success:e=>{a(e)}})},setLanguage:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/setLanguage/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,code:a},success:a=>{e&&e(a)}})},getCountry:(a=null)=>{$.ajax({url:`${API.BASE_URL}/getCountry/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale},success:e=>{a&&a(e)}})},getCurrentCountryInfo:(a,e)=>{$.ajax({url:`${API.BASE_URL}/getCurrentCountryInfo/`,type:"POST",data:{ip:a,lang:window.localStorage.locale},dataType:"JSON",success:a=>{e(a)}})},buy:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/buy/`,type:"POST",dataType:"JSON",data:{...a,token:window.localStorage.token,lang:window.localStorage.locale},success:a=>{e(a)}})},getQuoteList:(a,e)=>{$.ajax({url:`${API.BASE_URL}/getQuoteList/`,type:"POST",dataType:"JSON",data:{symbol:a},success:a=>{e(a)}})},validateAddress:(a,e,o)=>{$.ajax({url:`${API.BASE_URL}/validateAddress/`,type:"POST",dataType:"JSON",data:{symbol:a,address:e,lang:window.localStorage.locale},success:a=>{o(a)}})},getSpotPrice:(a,e)=>{$.ajax({url:`${API.BASE_URL}/getSpotPrice/`,type:"POST",dataType:"JSON",data:{symbol:a,lang:window.localStorage.locale},success:a=>{e(a)}})},sell:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/sell/`,type:"POST",dataType:"JSON",data:{...a,token:window.localStorage.token,lang:window.localStorage.locale},success:a=>{e&&e(a)}})},sellDirect:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/sell_direct/`,type:"POST",dataType:"JSON",data:{...a,token:window.localStorage.token,lang:window.localStorage.locale},success:a=>{e&&e(a)}})},buyDirect:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/buy_direct/`,type:"POST",dataType:"JSON",data:{...a,token:window.localStorage.token,lang:window.localStorage.locale},success:a=>{e&&e(a)}})},request:(a,e=null)=>{$.ajax({url:`${API.BASE_URL}/request/`,type:"POST",dataType:"JSON",data:{item:a,token:window.localStorage.token,lang:window.localStorage.locale},success:a=>{e&&e(a)}})},requestSync:async(a,e=null)=>new Promise((e,o)=>{$.ajax({url:`${API.BASE_URL}/request/`,type:"POST",dataType:"JSON",data:{item:a,token:window.localStorage.token,lang:window.localStorage.locale},success:a=>{e(a)},error:a=>{o(a)}})}).then(a=>{const o=[];a.payload.map(a=>{o.push(JSON.parse(a.data))}),e&&e(o)}),getOrderList:(a,e,o)=>{$.ajax({url:`${API.BASE_URL}/getOrderList/?symbol=${a}&trading_type=${e}`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,lang:window.localStorage.locale,symbol:a,trading_type:e},success:a=>{o(a)}})},getAuctionGoodsInfo:(a,e)=>{$.ajax({url:`${API.BASE_URL}/getAuction/auction_goods_info.php`,type:"POST",dataType:"JSON",data:{goods_idx:a,token:window.localStorage.token,lang:window.localStorage.locale},success:a=>{e(a)}})},createNewAddress:(a,e)=>{$.ajax({url:`${API.BASE_URL}/createNewAddress/`,type:"POST",dataType:"JSON",data:{symbol:a,token:window.localStorage.token,lang:window.localStorage.locale},success:a=>{e&&e(a)}})}};window.localStorage.token||API.getToken(a=>{window.localStorage.token=a.payload.token}),$.fn.serializeObject=function(){let a={};return $.each(this.serializeArray(),function(e,o){let l=a[o.name];null!=l?jQuery.isArray(l)?l.push(o.value):a[o.name]=[l,o.value]:a[o.name]=o.value}),$.each(this.find("input[type=checkbox]"),function(e,o){a[o.name]=$(o).prop("checked")}),a};
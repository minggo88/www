<!DOCTYPE html>
<html lang="ko">
<head>
<!-- META -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="title" content="ASSETTEA">
<meta name="description" content="">
<meta property="og:type" content="website">
<meta property="og:url" content="https://assettea.com">
<meta property="og:title" content="ASSETTEA">
<meta property="og:image" content="https://assettea.com/assets/img/og_kkikda.png">
<meta property="og:description" content="">
<meta property="og:site_name" content="ASSETTEA">
<meta property="og:locale" content="ko_KR">
<meta property="og:image:width" content="200">
<meta property="og:image:height" content="100">
<title>ASSETTEA</title>
<link rel="icon" type="image/png" sizes="16x16" href="./assets/img/favicon_16.png">
<link rel="icon" type="image/png" sizes="24x24" href="./assets/img/favicon_24.png">
<link rel="icon" type="image/png" sizes="64x64" href="./assets/img/favicon_64.png">
<link rel="icon" type="image/png" sizes="72x72" href="./assets/img/favicon_72.png">
<link rel="icon" type="image/png" sizes="180x180" href="./assets/img/favicon_180.png">
<link rel="icon" type="image/png" sizes="196x196" href="./assets/img/favicon_196.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://code.jquery.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;350;400;500;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="./assets/css/colorset.css?t={version}">
<link rel="stylesheet" href="./assets/css/common.css?t={version}">
<link rel="stylesheet" href="./assets/css/header.css?t={version}">
<link rel="stylesheet" href="./assets/css/footer.css?t={version}">
<link rel="stylesheet" href="./assets/css/components.css?t={version}">
<link rel="stylesheet" href="./assets/css/sub.css?t={version}">
<link rel="stylesheet" href="./assets/css/wallet.css?t={version}">

<!-- JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
<script src="./assets/js/common.js?t={version}"></script>
<script src="./assets/js/api.js?t={version}"></script>
<script src="./assets/js/components.js?t={version}"></script>
<script src="./assets/js/qrcode.min.js?t={version}"></script>

<script src="./assets/js/lib/php.default.min.js?t={version}"></script>
<script src="./assets/js/lib/security.min.js?t={version}"></script>
<script src="./i18n/i18n.js?t={version}"></script>

</head>
<!-- BODY -->
<body class="sub wallet notice">
	<header>
		<div class="header_inner">
			<h1 class="logo"><a href="index.html">ASSETTEA</a></h1>
			<nav class="nav">
				<ul>
					<li>
						<a href="exchange.html" data-i18n>거래소</a>
					</li>
					<!-- <li><a href="group-buying.html" data-i18n>공동구매</a></li> -->
					<!-- <li><a href="auction.html" data-i18n>경매</a></li> -->
					<li class="active">
						<a href="wallet.html" data-login data-i18n>입출금</a>
					</li>
					<!-- <li><a href="tea-ceremony-culture_.html" data-i18n>다도 문화</a></li> -->
					<li>
						<a href="notice.html" data-i18n>고객센터</a>
					</li>
				</ul>
			</nav>
			<div class="nav--side">
				<div name="box_logedin" class="profile dropdown-wrapper">
					<button type="button" class="dropdown btn btn--mypage" name="btn-papage" data-i18n>마이페이지</button>
					<div class="dropdown--item" style="width: 134px;left: -32px;">
						<ul>
							<li><a href="member-account.html" data-login data-i18n>정보 수정</a></li>
							<li><a href="my-verification.html" data-login data-i18n>ID 인증 관리</a></li>
							<li><a href="change-pin-number.html" data-login data-i18n>보안비밀번호변경</a></li>
							<li><a href="change-account-number.html" data-login data-i18n>출금계좌 변경</a></li>
							<!-- <li><a href="transaction.html" data-login data-i18n>거래 내역</a></li> -->
							<li><a href="notification.html" data-login data-i18n>알림</a></li>
						</ul>
					</div>
				</div>
				<button name="box_logedin" style="display: none;" type="button" class="btn btn--logout" name="btn-logout" data-i18n>로그아웃</button>
				<div name="box_unlogedin" style="display: none"><a href="login.html" data-logout class="btn--login" data-i18n>로그인</a></div>
				<div class="language dropdown-wrapper">
					<button type="button" class="dropdown">한국어</button>
					<div class="dropdown--item" style="width: 81px">
						<span>한국어</span>
						<ul></ul>
					</div>
				</div>
			</div>
		</div>
		<div class="box-mobile-menu">
			<a href="#" class="btn hamburger" name="btn-hamburger">☰</a>
		</div>
		<ul class="gnb box-menu" name="box-menu">
			<li>
				<a href="exchange.html" data-i18n>거래소</a>
			</li>
			<!-- <li><a href="group-buying.html" data-i18n>공동구매</a></li> -->
			<!-- <li><a href="auction.html" data-i18n>경매</a></li> -->
			<li>
				<a href="wallet.html" data-login data-i18n>입출금</a>
			</li>
			<!-- <li><a href="tea-ceremony-culture_.html" data-i18n>다도 문화</a></li> -->
			<li>
				<a href="notice.html" data-i18n>고객센터</a>
			</li>
		</ul>
	</header>
	<aside class="mobile-panel">
		<button type="button" class="navigation--close" onclick="$('.mobile-panel').hide(); return false"></button>
		<h1 class="size--20" data-i18n>마이페이지</h1>
		<ul>
			<li>
				<a href="member-account.html" data-login data-i18n><i class="icon-user-fill"></i><span data-i18n>정보 수정</span></a>
			</li>
			<li>
				<a href="my-verification.html" data-login data-i18n><i class="icon-user-fill"></i><span data-i18n>ID 인증 관리</span></a>
			</li>
			<li>
				<a href="change-pin-number.html" data-login data-i18n><i class="icon-shield"></i><span data-i18n>보안비밀번호 변경</span></a>
			</li>
			<li>
				<a href="change-account-number.html" data-login data-i18n><i class="icon-circle-fill"></i><span data-i18n>출금계좌 변경</span></a>
			</li>
			<!-- <li>
				<a href="transaction.html" data-login data-i18n><i class="icon-transaction-black"></i><span data-i18n>거래내역</span></a>
			</li> -->
			<li>
				<a href="notification.html" data-login data-i18n><i class="icon-alarm"></i><span data-i18n>알림</span></a>
			</li>
		</ul>
		<h1 class="size--20" style="margin: 20px 0 7px;" data-i18n>입출금</h1>
		<ul>
			<li>
				<a href="wallet.html" data-login><i class="icon-database-fill"></i> <span data-i18n>보유 자산</span></a>
			</li>
			<li>
				<a href="wallet-deposit.html" data-login><i class="icon-load-circle-fill"></i> <span data-i18n>입금</span></a>
			</li>
			<li>
				<a href="wallet-withdrawal.html" data-login><i class="icon-circle-fill"></i> <span data-i18n>출금</span></a>
			</li>
			<li>
				<a href="wallet-analysis.html" data-login><i class="icon-circle-fill"></i> <span data-i18n>종합 분석</span></a>
			</li>
		</ul>
		<h1 class="size--20" style="margin: 20px 0 7px;" data-i18n>고객센터</h1>
		<ul>
			<li>
				<a href="notice.html"><i class="icon-alarm"></i> <span data-i18n>공지사항</span></a>
			</li>
			<li>
				<a href="faq.html"><i class="icon-faq"></i> <span data-i18n>자주하는 질문</span></a>
			</li>
			<li>
				<a href="inquiry.html" data-login><i class="icon-inquiry"></i> <span data-i18n>1:1 문의</span></a>
			</li>
		</ul>
		<div class="nav--side mobile">
			<div name="box_logedin" style="display: none"><button class="btn btn--logout" name="btn-logout" data-i18n>로그아웃</button></div>
			<div name="box_unlogedin" style="display: none"><a href="login.html" data-logout class="btn--login" data-i18n>로그인</a></div>
			<div class="language dropdown-wrapper">
				<button type="button" class="dropdown">한국어</button>
				<div class="dropdown--item" style="width: 81px">
					<span>한국어</span>
					<ul></ul>
				</div>
			</div>
		</div>
	</aside>
    <div class="content_wrap">
		<main class="d-flex d-justify">
			<aside class="side">
				<h1 data-i18n>입출금</h1>
				<nav class="side--snb">
					<ul>
						<li class="snb--active">
							<a href="wallet.html" data-login data-i18n>내 지갑</a>
						</li>
						<li>
							<a href="transaction.html" data-login data-i18n>주문 및 거래내역</a>
						</li>
						<li>
							<a href="wallet-deposit.html" data-login data-i18n>입금</a>
						</li>
						<li>
							<a href="wallet-withdrawal.html" data-login data-i18n>출금</a>
						</li>
						<li>
							<a href="wallet-analysis.html" data-login data-i18n>종합 분석</a>
						</li>
					</ul>
				</nav>
			</aside>
			<div class="contents">
				<header class="contents--header">
					<button type="button" class="navigation--back"></button>
					<h1 data-i18n>내 지갑</h1>
				</header>
				<h2 class="mobile-only" style="margin-bottom: 32px !important"><i class="icon-database-fill"></i> <span data-i18n>보유 자산</span></h2>
				<section class="d-grid wallet-summary">
					<div class="grid">
						<label data-i18n>총 보유 자산</label>
						<div class="input pr-0">
							<div id="totalBalance" class="text- text-red">0</div>
							<div class="totalBalance currency dropdown-wrapper">
								<button type="button" style="width: 100%;height: 100%;border-left: 0.35px solid var(--blue-gray2) !important;border: 0;">
									KRW
								</button>
							</div>
						</div>
					</div>
					<div class="grid">
						<label for="" data-i18n>사용 가능 자산</label>
						<div class="input pr-0">
							<div id="totalAvailableBalance" class="text-">0</div>
							<div class="availableBalance currency dropdown-wrapper">
								<button type="button" style="width: 100%;height: 100%;border-left: 0.35px solid var(--blue-gray2) !important;border: 0;">
									KRW
								</button>
							</div>
						</div>
					</div>
					<!-- <div class="grid">
						<label for="" data-i18n>동결 평가 자산</label>
						<div class="input pr-0">
							<div id="totalLockedBalance" class="text-">0</div>
							<div class="unconfirmedBalance currency dropdown-wrapper">
								<button type="button" style="width: 100%;height: 100%;border-left: 0.35px solid var(--blue-gray2) !important;border: 0;">
									KRW
								</button>
							</div>
						</div>
					</div> -->
					<div class="grid">
						<label for="" data-i18n>구매 가능 금액</label>
						<div class="input pr-0">
							<div id="totalBuyableBalance" class="text-">0</div>
							<div class="buyableBalance currency dropdown-wrapper">
								<button type="button" style="width: 100%;height: 100%;border-left: 0.35px solid var(--blue-gray2) !important;border: 0;">
									KRW
								</button>
							</div>
						</div>
					</div>
				</section>
				<div class="d-grid wallet--grid loading">
					<!-- <div class="grid" style="border-left-color: #000000;">
						<div class="grid--inner-left">
							<div class="item_img" style="background-image: url(https://smarttalk.s3.ap-northeast-2.amazonaws.com/202109/1ce4bb2f223b149caa128e32379d7ebeffa4ec3bf19060586789c75053b6693a.png);"></div>
							<div class="item_name desktop-only">Goon #5562</div>
						</div>
						<div class="grid--inner-right">
							<div class="text-right" style="display: flex; flex-basis: 100%; flex-direction: column; column-gap: 5px; justify-content: flex-start">
								<div class="text--gray003 size--14 mobile-only" style="margin-bottom: 5px">Goon #5562</div>
								<div class="wallet--price">1,000 개</div>
								<div class="wallet--market-price">≈ 100,000 KRW</div>
							</div>
							<div class="wallet--btn">
								<a href="wallet-deposit.html?symbol=GBULF3LZMU" class="btn btn--red btn--rounded" style="display:none">입금</a>
								<a href="wallet-withdrawal.html?symbol=GBULF3LZMU" class="btn btn--withdrawal btn--rounded" style="display:none">출금</a>
								<a href="exchange.html?symbol=GBULF3LZMU" class="btn btn--withdrawal btn--rounded">거래</a>
							</div>
						</div>
					</div>
					<div class="grid" style="border-left-color: #000000;">
						<div class="grid--inner-left">
							<div class="item_img" style="background-image: url(https://smarttalk.s3.ap-northeast-2.amazonaws.com/202109/1ce4bb2f223b149caa128e32379d7ebeffa4ec3bf19060586789c75053b6693a.png);"></div>
							<div class="item_name desktop-only">Goon #5562</div>
						</div>
						<div class="grid--inner-right">
							<div class="text-right" style="display: flex; flex-basis: 100%; flex-direction: column; column-gap: 5px; justify-content: flex-start">
								<div class="text--gray003 size--14 mobile-only" style="margin-bottom: 5px">Goon #5562</div>
								<div class="wallet--price">1,000 개</div>
								<div class="wallet--market-price">≈ 100,000 KRW</div>
							</div>
							<div class="wallet--btn">
								<a href="wallet-deposit.html?symbol=GBULF3LZMU" class="btn btn--red btn--rounded" style="display:none">입금</a>
								<a href="wallet-withdrawal.html?symbol=GBULF3LZMU" class="btn btn--withdrawal btn--rounded" style="display:none">출금</a>
								<a href="exchange.html?symbol=GBULF3LZMU" class="btn btn--withdrawal btn--rounded">거래</a>
							</div>
						</div>
					</div>
					<div class="grid" style="border-left-color: #000000;">
						<div class="grid--inner-left">
							<div class="item_img" style="background-image: url(https://cdn.jsdelivr.net/gh/fgshop/fgshop_symbols@main/symbols/40x40/KRW.png);"></div>
							<div class="item_name desktop-only">대한민국, 원</div>
						</div>
						<div class="grid--inner-right">
							<div class="text-right" style="display: flex; flex-basis: 100%; flex-direction: column; column-gap: 5px; justify-content: flex-start">
								<div class="text--gray003 size--14 mobile-only" style="margin-bottom: 5px">대한민국, 원</div>
								<div class="wallet--price">1,846,972.6 KRW</div>
							</div>
							<div class="wallet--btn">
								<a href="wallet-deposit.html?symbol=KRW" class="btn btn--red btn--rounded">입금</a>
								<a href="wallet-withdrawal.html?symbol=KRW" class="btn btn--withdrawal btn--rounded">출금</a>
								<a href="exchange.html?symbol=KRW" class="btn btn--withdrawal btn--rounded" style="display:none">거래</a>
							</div>
						</div>
					</div>
					<div class="grid" style="border-left-color: #000000;">
						<div class="grid--inner-left">
							<div class="item_img" style="background-image: url(https://cdn.jsdelivr.net/gh/fgshop/fgshop_symbols@main/symbols/40x40/KRW.png);"></div>
							<div class="item_name desktop-only">대한민국, 원</div>
						</div>
						<div class="grid--inner-right">
							<div class="text-right" style="display: flex; flex-basis: 100%; flex-direction: column; column-gap: 5px; justify-content: flex-start">
								<div class="text--gray003 size--14 mobile-only" style="margin-bottom: 5px">대한민국, 원</div>
								<div class="wallet--price">1,846,972.6 KRW</div>
							</div>
							<div class="wallet--btn">
								<a href="wallet-deposit.html?symbol=KRW" class="btn btn--red btn--rounded">입금</a>
								<a href="wallet-withdrawal.html?symbol=KRW" class="btn btn--withdrawal btn--rounded">출금</a>
								<a href="exchange.html?symbol=KRW" class="btn btn--withdrawal btn--rounded" style="display:none">거래</a>
							</div>
						</div>
					</div>
					<div class="grid" style="border-left-color: #000000;">
						<div class="grid--inner-left">
							<div class="item_img" style="background-image: url(https://cdn.jsdelivr.net/gh/fgshop/fgshop_symbols@main/symbols/40x40/KRW.png);"></div>
							<div class="item_name desktop-only">대한민국, 원</div>
						</div>
						<div class="grid--inner-right">
							<div class="text-right" style="display: flex; flex-basis: 100%; flex-direction: column; column-gap: 5px; justify-content: flex-start">
								<div class="text--gray003 size--14 mobile-only" style="margin-bottom: 5px">대한민국, 원</div>
								<div class="wallet--price">1,846,972.6 KRW</div>
							</div>
							<div class="wallet--btn">
								<a href="wallet-deposit.html?symbol=KRW" class="btn btn--red btn--rounded">입금</a>
								<a href="wallet-withdrawal.html?symbol=KRW" class="btn btn--withdrawal btn--rounded">출금</a>
								<a href="exchange.html?symbol=KRW" class="btn btn--withdrawal btn--rounded" style="display:none">거래</a>
							</div>
						</div>
					</div> -->
				</div>
				<script>

					// set default exchange currency symbol
					const exchange = 'KRW';

					const withdrawable_symbols = ['KRW']; // , 'USD', 'ETH'

					API.getBalance('ALL', '', (resp) => {
						$('.wallet--grid').removeClass('loading')

						let total_evaluated_balance = 0; // 총 보유 자산
						let total_available_evaluated_balance = 0; // 총 사용 가능 자산
						let total_locked_evaluated_balance = 0; // 총 동결 평가 자산
						let total_buyable_balance = 0; // 총 구매 가능 자산

						// console.log('getBalance resp:', resp);
						if(resp.success) {
							resp.payload.filter(function(item) {
								if (item.crypto_currency === 'N') {
									return false; // skip
								}
								return true;
							}).map((item) => {

								// 원은 목록에서 제거
								if (item.symbol==='KRW') {
									total_buyable_balance = item.confirmed;
									return ;
								}

								// console.log(item);

								if (item.confirmed > 0 || item.symbol=='KRW') {
									item.eval_tadable = item.tradable * item.price;		// 코인의 거래가능한 평가금액 tradable == confirmed
									item.eval_locked = item.locked * item.price;		// 코인의 잠긴 평가금액
									item.eval_valuation = item.valuation * item.price;	// 코인의 전체 평가금액
									item.eval_trading = item.trading * item.price;		// 코인의 전체 매도중금액

									total_evaluated_balance += item.eval_valuation; 		// 총 보유 자산
									total_available_evaluated_balance += item.eval_tadable; 	// 총 사용 가능 자산
									total_locked_evaluated_balance += item.eval_locked + item.eval_trading; 	// 총 동결 평가 자산

									// 잔액
									item.confirmed_str = real_number_format(item.confirmed);
									item.eval_valuation_str = real_number_format(item.eval_valuation);

									const symbol_str = in_array(item.symbol,['KRW','USD']) ? item.symbol : __('개') ;

									const deposit_hide_style = in_array(item.symbol, withdrawable_symbols) ? '' : 'style="display:none"';
									const withdraw_hide_style = in_array(item.symbol, withdrawable_symbols) ? '' : 'style="display:none"';
									const trade_hide_style = in_array(item.symbol, withdrawable_symbols) ? 'style="display:none"' : '';
									const item_name = item.name+ (item.goods_grade ? ', '+item.goods_grade+'등급':'');

									const grid = $(`<div class="grid" style="border-left-color: #${item.color};" />`)
									grid.append(`<div class="grid--inner-left">
									<div class='item_img' style="background-image: url(${item.icon_url});"></div>
									<div class='item_name desktop-only'>${item_name}</div>
								</div>`)
									// grid.append(`<div class='item_img' style="background-image: url(${item.icon_url});"></div>`)
									// grid.append(`<div class='item_name desktop-only'>${item.name}</div>`)
									grid.append(`
								<div class="grid--inner-right">
									<div class="text-right" style="display: flex; flex-basis: 100%; flex-direction: column; column-gap: 5px; justify-content: flex-start">
										<div class="text--gray003 size--14 mobile-only" style="margin-bottom: 5px">${item.name}</div>
										<div class="wallet--price">${item.confirmed_str} ${symbol_str}</div>
										${item.symbol !== exchange ? '<div class="wallet--market-price">≈ '+item.eval_valuation_str+' '+exchange+'</div>' : ''}
									</div>
									<div class="wallet--btn">
										<a href="wallet-deposit.html?symbol=${item.symbol}" class="btn btn--red btn--rounded" ${deposit_hide_style}>입금</a>
										<a href="wallet-withdrawal.html?symbol=${item.symbol}" class="btn btn--withdrawal btn--rounded" ${withdraw_hide_style}>출금</a>
										<a href="exchange.html?symbol=${item.symbol}" class="btn btn--withdrawal btn--rounded" ${trade_hide_style}>거래</a>
									</div>
								</div>`)
									$('.wallet--grid').append(grid)
									// $('.currency').dropdown('add', { value: item.symbol, text: item.symbol })
								}

							})

							$('#totalBalance').text(real_number_format(total_evaluated_balance))
							$('#totalAvailableBalance').text(real_number_format(total_available_evaluated_balance))
							$('#totalLockedBalance').text(real_number_format(total_locked_evaluated_balance))
							$('#totalBuyableBalance').text(real_number_format(total_buyable_balance))

						}
					})
					$('.totalBalance').on('change', (event, symbol) => {
						API.getBalance('ALL', symbol, (resp) => {
							if(resp.success) {
								console.log(resp)
								$('.wallet-summary .grid:eq(0)').find('.text-').text(resp.payload.price)
							} else {
								alert(resp.error.message)
							}
						})
					})
					$('.availableBalance').on('change', (event, symbol) => {
						API.getBalance('ALL', symbol, (resp) => {
							if(resp.success) {
								const price = resp.payload.price
								$('.wallet-summary .grid:eq(1)').find('.text-').text(price.format())
							} else {
								alert(resp.error.message)
							}
						})
					})
					$('.unconfirmedBalance').on('change', (event, symbol) => {
						API.getBalance('ALL', symbol, (resp) => {
							if(resp.success) {
								const price = resp.payload.price
								$('.wallet-summary .grid:eq(1)').find('.text-').text(price.format())
							} else {
								alert(resp.error.message)
							}
						})
					})
				</script>
			</div>
		</main>
	</div>
	<nav class="mobile-bottom mobile-only">
		<ul class="unstyled" style="width: 100%; display: flex; flex-direction: row">
			<li class="exchange">
				<a href="exchange.html" data-i18n>거래소</a>
			</li>
			<li class="area" >
				<a href="" data-i18n>티드로우</a>
			</li>
			<!-- <li class="auction" style="flex: 1 1 auto"><a href="" data-i18n>경매</a></li> -->
			<li class="transaction" style="flex: 1 1 auto">
				<a href="transaction.html" data-login data-i18n>거래내역</a>
			</li>
			<li class="more">
				<a href="" data-i18n>더보기</a>
			</li>
		</ul>
	</nav>

    <script src="./assets/js/app.js?t={version}"></script>

</body>
</html>
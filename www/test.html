<!DOCTYPE html>
<html lang="ko">
<head>
<!-- META -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="title" content="ASSETTEA">
<meta name="description" content="">
<meta property="og:type" content="website">
<meta property="og:url" content="https://assettea.com">
<meta property="og:title" content="ASSETTEA">
<meta property="og:image" content="https://assettea.com/assets/img/og_kkikda.png">
<meta property="og:description" content="">
<meta property="og:site_name" content="ASSETTEA">
<meta property="og:locale" content="ko_KR">
<meta property="og:image:width" content="200">
<meta property="og:image:height" content="100">
<title>ASSETTEA</title>
<link rel="icon" type="image/png" sizes="16x16" href="./assets/img/favicon_16.png">
<link rel="icon" type="image/png" sizes="24x24" href="./assets/img/favicon_24.png">
<link rel="icon" type="image/png" sizes="64x64" href="./assets/img/favicon_64.png">
<link rel="icon" type="image/png" sizes="72x72" href="./assets/img/favicon_72.png">
<link rel="icon" type="image/png" sizes="180x180" href="./assets/img/favicon_180.png">
<link rel="icon" type="image/png" sizes="196x196" href="./assets/img/favicon_196.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://code.jquery.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;350;400;500;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="./assets/css/colorset.css?t=1667735148">
<link rel="stylesheet" href="./assets/css/common.css?t=1672721419">
<link rel="stylesheet" href="./assets/css/header.css?t=1672721419">
<link rel="stylesheet" href="./assets/css/footer.css?t=1672721419">
<link rel="stylesheet" href="./assets/css/components.css?t=1671090276">
<link rel="stylesheet" href="./assets/css/sub.css?t=1672721419">
<link rel="stylesheet" href="./assets/css/wallet.css?t=1671513804">

<!-- JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
<script src="./assets/js/common.js?t=1670369703"></script>
<script src="./assets/js/takeout.js"></script>
<script src="./assets/js/api.js?t=1671775853"></script>
<script src="./assets/js/components.js?t=1672721419"></script>
<script src="./assets/js/qrcode.min.js?t=1667735148"></script>

<script src="//cdn.datatables.net/v/dt/dt-1.12.1/fh-3.2.4/r-2.3.0/sc-2.0.7/datatables.min.js"></script>
<script src="//cdn.datatables.net/select/1.4.0/js/dataTables.select.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>

<script src="./assets/js/lib/php.default.min.js?t=1667735148"></script>
<script src="./assets/js/lib/security.min.js?t=1667735148"></script>
<script src="./i18n/i18n.js?t=1667796157"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<style>
		.options {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
}

.options > label {
  margin-right: 10px;
}

.input-group {
  display: flex;
  align-items: center;
}

.input-group > button,
.input-group > input {
  margin: 0 5px;
  padding: 5px 10px;
  font-size: 18px;
  border: 1px solid #ccc;
  border-radius: 5px;
}

.input-group > button:hover,
.input-group > input:hover {
  border-color: #333;
}

.input-group > button:focus,
.input-group > input:focus {
  outline: none;
}

.input-group > input {
  text-align: center;
  width: 70px;
}

.cart {
  margin-top: 10px;
}

.cart > button {
  padding: 10px 20px;
  font-size: 18px;
  border: none;
  border-radius: 5px;
  background-color: #ccc;
}

.cart > button:hover {
  cursor: pointer;
  background-color: #333;
  color: #fff;
}
	</style>

</head>
<!-- BODY -->
<body class="sub wallet notice">
	<header>
		<div class="header_inner">
			<h1 class="logo"><a href="index.html">ASSETTEA</a></h1>
			<nav class="nav">
				<ul>
					<li>
						<a href="exchange.html" data-i18n>MARKET</a>
					</li>
					<!-- <li><a href="group-buying.html" data-i18n>공동구매</a></li> -->
					<!-- <li><a href="auction.html" data-i18n>경매</a></li> -->
					<li class="active">
						<a href="wallet.html" data-login data-i18n>입출금</a>
					</li>
					<!-- <li><a href="tea-ceremony-culture_.html" data-i18n>다도 문화</a></li> -->
					<li>
						<a href="notice.html" data-i18n>고객센터</a>
					</li>
				</ul>
			</nav>
			<div class="nav--side">
				<div name="box_logedin" class="profile dropdown-wrapper">
					<button type="button" class="dropdown btn btn--mypage" name="btn-papage" data-i18n>마이페이지</button>
					<div class="dropdown--item" style="width: 134px;left: -32px;">
						<ul>
							<li><a href="member-account.html" data-login data-i18n>정보 수정</a></li>
							<li><a href="my-verification.html" data-login data-i18n>ID 인증 관리</a></li>
							<li><a href="change-pin-number.html" data-login data-i18n>보안비밀번호변경</a></li>
							<li><a href="change-account-number.html" data-login data-i18n>출금계좌 변경</a></li>
							<!-- <li><a href="transaction.html" data-login data-i18n>거래 내역</a></li> -->
							<li><a href="notification.html" data-login data-i18n>알림</a></li>
						</ul>
					</div>
				</div>
				<button name="box_logedin" style="display: none;" type="button" class="btn btn--logout" name="btn-logout" data-i18n>로그아웃</button>
				<div name="box_unlogedin" style="display: none"><a href="login.html" data-logout class="btn--login" data-i18n>로그인</a></div>
				<div class="language dropdown-wrapper">
					<button type="button" class="dropdown">한국어</button>
					<div class="dropdown--item" style="width: 81px">
						<span>한국어</span>
						<ul></ul>
					</div>
				</div>
			</div>
		</div>
		<div class="box-mobile-menu">
			<a href="#" class="btn hamburger" name="btn-hamburger">☰</a>
		</div>
		<ul class="gnb box-menu" name="box-menu">
			<li>
				<a href="exchange.html" data-i18n>MARKET</a>
			</li>
			<!-- <li><a href="group-buying.html" data-i18n>공동구매</a></li> -->
			<!-- <li><a href="auction.html" data-i18n>경매</a></li> -->
			<li>
				<a href="wallet.html" data-login data-i18n>입출금</a>
			</li>
			<!-- <li><a href="tea-ceremony-culture_.html" data-i18n>다도 문화</a></li> -->
			<li>
				<a href="notice.html" data-i18n>고객센터</a>
			</li>
		</ul>
	</header>
	<aside class="mobile-panel">
		<button type="button" class="navigation--close" onclick="$('.mobile-panel').hide(); return false"></button>
		<h1 class="size--20" data-i18n>마이페이지</h1>
		<ul>
			<li>
				<a href="member-account.html" data-login data-i18n><i class="icon-user-fill"></i><span data-i18n>정보 수정</span></a>
			</li>
			<li>
				<a href="my-verification.html" data-login data-i18n><i class="icon-user-fill"></i><span data-i18n>ID 인증 관리</span></a>
			</li>
			<li>
				<a href="change-pin-number.html" data-login data-i18n><i class="icon-shield"></i><span data-i18n>보안비밀번호 변경</span></a>
			</li>
			<li>
				<a href="change-account-number.html" data-login data-i18n><i class="icon-circle-fill"></i><span data-i18n>출금계좌 변경</span></a>
			</li>
			<!-- <li>
				<a href="transaction.html" data-login data-i18n><i class="icon-transaction-black"></i><span data-i18n>거래내역</span></a>
			</li> -->
			<li>
				<a href="notification.html" data-login data-i18n><i class="icon-alarm"></i><span data-i18n>알림</span></a>
			</li>
		</ul>
		<h1 class="size--20" style="margin: 20px 0 7px;" data-i18n>입출금</h1>
		<ul>
			<li>
				<a href="wallet.html" data-login><i class="icon-database-fill"></i> <span data-i18n>보유 자산</span></a>
			</li>
			<li>
				<a href="wallet-deposit.html" data-login><i class="icon-load-circle-fill"></i> <span data-i18n>입금</span></a>
			</li>
			<li>
				<a href="wallet-withdrawal.html" data-login><i class="icon-circle-fill"></i> <span data-i18n>출금</span></a>
			</li>
			<li>
				<a href="wallet-analysis.html" data-login><i class="icon-circle-fill"></i> <span data-i18n>종합 분석</span></a>
			</li>
		</ul>
		<h1 class="size--20" style="margin: 20px 0 7px;" data-i18n>고객센터</h1>
		<ul>
			<li>
				<a href="notice.html"><i class="icon-alarm"></i> <span data-i18n>공지사항</span></a>
			</li>
			<li>
				<a href="faq.html"><i class="icon-faq"></i> <span data-i18n>자주하는 질문</span></a>
			</li>
			<li>
				<a href="inquiry.html" data-login><i class="icon-inquiry"></i> <span data-i18n>1:1 문의</span></a>
			</li>
		</ul>
		<div class="nav--side mobile">
			<div name="box_logedin" style="display: none"><button class="btn btn--logout" name="btn-logout" data-i18n>로그아웃</button></div>
			<div name="box_unlogedin" style="display: none"><a href="login.html" data-logout class="btn--login" data-i18n>로그인</a></div>
			<div class="language dropdown-wrapper">
				<button type="button" class="dropdown">한국어</button>
				<div class="dropdown--item" style="width: 81px">
					<span>한국어</span>
					<ul></ul>
				</div>
			</div>
		</div>
	</aside>

	<select id="test_op"></select>
    <div class="list"></div>

    <div class="cart">
        <button class="cart-btn" type="button" disabled>반출신청</button>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            var data = [
                { name: "천년고수 제일병1", confirmed: "1.0000", symbol: "GJ2GNMGZ00", userno: "1016" },
                { name: "천년고수 제일병2", confirmed: "13.0000", symbol: "GJ2GNMGZ01", userno: "1016" },
                { name: "천년고수 제일병3", confirmed: "16.0000", symbol: "GJ2GNMGZ02", userno: "1016" }
            ];

            var selectElement = $("#test_op");
            var listContainer = $(".list");
            var selected_list = [];

            // 기본 선택 옵션 추가
            selectElement.append($('<option>').attr('value', '').text('선택하세요'));

            // 데이터를 기반으로 옵션 추가
            data.forEach(function(option) {
                var value = option.symbol;
                var text = option.name + ' / ' + option.confirmed;

                selectElement.append($('<option>').attr('value', value).text(text));
            });

            // select 요소 변경 시 이벤트 핸들러
            selectElement.on('change', function() {
                var selectedValue = $(this).val();

                // 이미 추가된 경우 경고 표시
                if (selected_list.includes(selectedValue)) {
                    alert('이미 추가된 옵션입니다.');
                    return;
                } else {
                    selected_list.push(selectedValue); // 선택한 옵션의 symbol 값을 배열에 추가
                }

                // 선택된 값이 data에 존재하는 경우
                var selectedOption = data.find(function(option) {
                    return option.symbol === selectedValue;
                });

                if (selectedOption) {
                    var optionHtml = `
                        <div class="options">
                            <label for="option1">${selectedOption.name}</label>
                            <div class="input-group">
                                <button class="minus-btn" type="button" name="button" disabled>-</button>
                                <input type="text" name="quantity" value="0" min="0" max="${selectedOption.confirmed}" pattern="[0-9]*" inputmode="numeric">
                                <button class="plus-btn" type="button" name="button">+</button>
                                <button class="remove-btn" type="button" name="button">x</button>
                            </div>
                        </div>
                    `;

                    listContainer.append(optionHtml);
                }
            });

            // + 버튼 클릭 시 이벤트 핸들러
            listContainer.on('click', '.plus-btn', function() {
                var inputElement = $(this).siblings('input[name="quantity"]');
                var currentValue = parseInt(inputElement.val(), 10);

                if (!isNaN(currentValue)) {
                    var maxValue = parseFloat(inputElement.attr('max'));

                    if (currentValue < maxValue) {
                        inputElement.val(currentValue + 1);
                        $(this).siblings('.minus-btn').prop('disabled', false);
                    }
                }
            });

            // - 버튼 클릭 시 이벤트 핸들러
            listContainer.on('click', '.minus-btn', function() {
                var inputElement = $(this).siblings('input[name="quantity"]');
                var currentValue = parseInt(inputElement.val(), 10);

                if (!isNaN(currentValue)) {
                    var minValue = parseFloat(inputElement.attr('min'));

                    if (currentValue > minValue) {
                        inputElement.val(currentValue - 1);
                    }

                    if (currentValue - 1 === minValue) {
                        $(this).prop('disabled', true);
                    }
                }
            });

            // x 버튼 클릭 시 이벤트 핸들러
            listContainer.on('click', '.remove-btn', function() {
                var optionDiv = $(this).closest('.options');
                var optionLabel = optionDiv.find('label');
                var optionName = optionLabel.text();

                // 선택된 옵션 배열에서 삭제
                selected_list = selected_list.filter(function(value) {
                    return value !== optionName;
                });

                // 해당 옵션 div 삭제
                optionDiv.remove();
            });

            const cartBtn = document.querySelector('.cart-btn');
            cartBtn.addEventListener('click', function() {
                let message = '';
                document.querySelectorAll('.options input[type=text]').forEach(function(input) {
                    const name = input.parentElement.previousElementSibling.textContent.trim();
                    const quantity = parseInt(input.value);
                    if (!isNaN(quantity) && quantity > 0) {
                        message += `${name}-${quantity}\n`;
                    }
                });
                if (message != '') {
                    alert(`반출신청\n${message}`);
                }
            });
        });
    </script>

</html>

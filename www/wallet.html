<!DOCTYPE html>
<html lang="ko">
<head>
<!-- META -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="title" content="끽다거">
<meta name="description" content="">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kkikda.com">
<meta property="og:title" content="끽다거">
<meta property="og:image" content="https://kkikda.com/assets/img/og_kkikda.png">
<meta property="og:description" content="">
<meta property="og:site_name" content="끽다거">
<meta property="og:locale" content="ko_KR">
<meta property="og:image:width" content="200">
<meta property="og:image:height" content="100">
<title>끽다거</title>
<link rel="icon" type="image/png" sizes="16x16" href="./assets/img/favicon_16.png">
<link rel="icon" type="image/png" sizes="24x24" href="./assets/img/favicon_24.png">
<link rel="icon" type="image/png" sizes="64x64" href="./assets/img/favicon_64.png">
<link rel="icon" type="image/png" sizes="72x72" href="./assets/img/favicon_72.png">
<link rel="icon" type="image/png" sizes="180x180" href="./assets/img/favicon_180.png">
<link rel="icon" type="image/png" sizes="196x196" href="./assets/img/favicon_196.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://code.jquery.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;350;400;500;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="./assets/css/colorset.css?t=1662601748">
<link rel="stylesheet" href="./assets/css/common.css?t=1664432732">
<link rel="stylesheet" href="./assets/css/header.css?t=1664350978">
<link rel="stylesheet" href="./assets/css/footer.css?t=1663660804">
<link rel="stylesheet" href="./assets/css/components.css?t=1664449744">
<link rel="stylesheet" href="./assets/css/sub.css?t=1664449744">
<link rel="stylesheet" href="./assets/css/wallet.css?t=1664191797">
<!-- JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
<script src="./assets/js/api.js?t=1664349972"></script>
<script src="./assets/js/components.js?t=1664440787"></script>
<script src="./assets/js/qrcode.min.js?t=1661823297"></script>

<script src="./assets/js/lib/php.default.min.js?t=1661837315"></script>
<script src="./assets/js/lib/security.min.js?t=1661838502"></script>
<script src="./i18n/i18n.js?t=1664333383"></script>

</head>
<!-- BODY -->
<body class="sub wallet notice">
	<header>
		<div class="header_inner">
			<h1 class="logo"><a href="index.html">Teaplat</a></h1>
			<nav class="nav">
				<ul>
					<li>
						<a href="exchange.html" data-i18n>거래소</a>
					</li>
					<li>
						<a href="" data-i18n>공동구매</a>
					</li>
					<li>
						<a href="" data-i18n>경매</a>
					</li>
					<li class="active">
						<a href="wallet.html" data-i18n>입출금</a>
					</li>
					<li>
						<a href="" data-i18n>다도 문화</a>
					</li>
					<li>
						<a href="notice.html" data-i18n>고객센터</a>
					</li>
				</ul>
			</nav>
			<div class="nav--side">
				<div name="box_logedin" style="display: none" class="wallet dropdown-wrapper">
					<button type="button" class="dropdown" data-i18n>지갑관리</button>
					<div class="dropdown--item" style="width: 100px">
						<ul>
							<li><a href="wallet.html" data-i18n>보유 자산</a></li>
							<li><a href="wallet-deposit.html" data-i18n>입금</a></li>
							<li><a href="wallet-withdrawal.html" data-i18n>출금</a></li>
							<li><a href="wallet-analysis.html" data-i18n>종합 분석</a></li>
						</ul>
					</div>
				</div>
				<div name="box_logedin" class="profile dropdown-wrapper">
					<button type="button" class="dropdown btn btn--mypage" name="btn-papage" data-i18n>마이페이지</button>
					<div class="dropdown--item" style="width: 134px;left: -32px;">
						<ul>
							<li><a href="member-account.html" data-i18n>정보 수정</a></li>
							<li><a href="verification.html" data-i18n>ID 인증 관리</a></li>
							<li><a href="change-pin-number.html" data-i18n>보안비밀번호변경</a></li>
							<li><a href="change-account-number.html" data-i18n>출금계좌 변경</a></li>
							<li><a href="transaction.html" data-i18n>거래 내역</a></li>
							<li><a href="notification.html" data-i18n>알림</a></li>
						</ul>
					</div>
				</div>
				<button name="box_logedin" style="display: none;" type="button" class="btn btn--logout" name="btn-logout" data-i18n>로그아웃</button>
				<div name="box_unlogedin" style="display: none"><a href="login.html" class="btn--login" data-i18n>로그인</a></div>
				<div class="language dropdown-wrapper">
					<button type="button" class="dropdown">한국어</button>
					<div class="dropdown--item" style="width: 81px">
						<span>한국어</span>
						<ul></ul>
					</div>
				</div>
			</div>
			<div class="box-mobile-menu">
				<a href="#" class="btn hamburger" name="btn-hamburger">☰</a>
			</div>
			<ul class="gnb box-menu" name="box-menu">
				<li>
					<a href="exchange.html" data-i18n>거래소</a>
				</li>
				<li>
					<a href="" data-i18n>공동구매</a>
				</li>
				<li>
					<a href="" data-i18n>경매</a>
				</li>
				<li>
					<a href="wallet.html" data-i18n>입출금</a>
				</li>
				<li>
					<a href="" data-i18n>다도 문화</a>
				</li>
				<li>
					<a href="notice.html" data-i18n>고객센터</a>
				</li>
			</ul>
		</div>
	</header>
    <div class="content_wrap">
		<main class="d-flex d-justify">
			<aside class="side">
				<h1 data-i18n>입출금</h1>
				<nav class="side--snb">
					<ul>
						<li class="snb--active">
							<a href="wallet.html" data-i18n>보유 자산</a>
						</li>
						<li>
							<a href="wallet-deposit.html" data-i18n>입금</a>
						</li>
						<li>
							<a href="wallet-withdrawal.html" data-i18n>출금</a>
						</li>
						<li>
							<a href="wallet-analysis.html" data-i18n>종합 분석</a>
						</li>
					</ul>
				</nav>
			</aside>
			<div class="contents">
				<header class="contents--header">
					<button type="button" class="navigation--back"></button>
					<h1 data-i18n>My Wallet</h1>
				</header>
				<h2 class="m-0 mobile-only" style="margin-bottom: 32px !important"><i class="icon-database-fill"></i> <span data-i18n>보유 자산</span></h2>
				<section class="d-grid wallet-summary">
					<div class="grid">
						<label data-i18n>총 보유 자산</label>
						<div class="input pr-0">
							<div id="totalBalance" class="text- text-red">0</div>
							<div class="totalBalance currency dropdown-wrapper">
								<button type="button" style="width: 100%;height: 100%;border-left: 0.35px solid var(--blue-gray2) !important;border: 0;">
									USD
								</button>
							</div>
						</div>
					</div>
					<div class="grid">
						<label for="" data-i18n>사용 가능 자산</label>
						<div class="input pr-0">
							<div id="totalAvailableBalance" class="text-">0</div>
							<div class="availableBalance currency dropdown-wrapper">
								<button type="button" style="width: 100%;height: 100%;border-left: 0.35px solid var(--blue-gray2) !important;border: 0;">
									USD
								</button>
							</div>
						</div>
					</div>
					<div class="grid">
						<label for="" data-i18n>동결 평가 자산</label>
						<div class="input pr-0">
							<div id="totalLockedBalance" class="text-">0</div>
							<div class="unconfirmedBalance currency dropdown-wrapper">
								<button type="button" style="width: 100%;height: 100%;border-left: 0.35px solid var(--blue-gray2) !important;border: 0;">
									USD
								</button>
							</div>
						</div>
					</div>
				</section>
				<div class="d-grid wallet--grid loading"></div>
				<script>

					// set default exchange currency symbol
					const exchange = 'KRW';

					API.getBalance('ALL', '', (resp) => {
						$('.wallet--grid').removeClass('loading')

						let total_evaluated_balance = 0; // 총 보유 자산
						let total_available_evaluated_balance = 0; // 총 사용 가능 자산
						let total_locked_evaluated_balance = 0; // 총 동결 평가 자산

						// console.log('getBalance resp:', resp);
						if(resp.success) {
							resp.payload.filter(function(item) {
								if (item.crypto_currency === 'N') {
									return false; // skip
								}
								return true;
							}).map((item) => {

								console.log(item.price);

								item.eval_tadable = item.tradable * item.price;		// 코인의 거래가능한 평가금액 tradable == confirmed
								item.eval_locked = item.locked * item.price;		// 코인의 잠긴 평가금액
								item.eval_valuation = item.valuation * item.price;	// 코인의 전체 평가금액
								item.eval_trading = item.trading * item.price;		// 코인의 전체 매도중금액

								total_evaluated_balance += item.eval_valuation; 		// 총 보유 자산
								total_available_evaluated_balance += item.eval_tadable; 	// 총 사용 가능 자산
								total_locked_evaluated_balance += item.eval_locked + item.eval_trading; 	// 총 동결 평가 자산

								// 잔액
								item.confirmed_str = real_number_format(item.confirmed);
								item.eval_valuation_str = real_number_format(item.eval_valuation);

								let className = ''
								switch(item.symbol) {
									case 'AAT':
										className = ''
										break
									case 'ETH':
										className = 'grid--ethereum'
										break
									case 'BTC':
										className = 'grid--bitcoin'
										break
									case 'BTG':
										className = 'grid--bitcoingold'
										break
									case 'BCH':
										className = 'grid--bitcoincash'
										break
									case 'LTC':
										className = 'grid--lightcoin'
										break
									case 'KRW':
										className = 'grid--krw'
										break
								}

								const grid = $(`<div class="grid" style="border-left-color: #${item.color};background-image: url(${item.icon_url});" />`)
								grid.append(`<div>${item.name}</div>`)
								grid.append(`
								<div class="grid--inner-right">
									<div clas="text-right" style="display: flex; flex-basis: 100%; flex-direction: column; column-gap: 5px; justify-content: flex-start">
										<div class="text--gray003 size--14 mobile-only" style="margin-bottom: 16px">${item.name}</div>
										<div class="wallet--price">${item.confirmed_str} ${item.symbol}</div>
										${item.symbol !== exchange ? '<div class="wallet--market-price">≈ '+item.eval_valuation_str+' '+exchange+'</div>' : ''}
									</div>
									<div class="wallet--btn">
										<a href="wallet-deposit.html?symbol=${item.symbol}" class="btn btn--red btn--rounded">입금</a>
										<a href="wallet-withdrawal.html?symbol=${item.symbol}" class="btn btn--withdrawal btn--rounded">출금</a>
									</div>
								</div>`)
								$('.wallet--grid').append(grid)
								// $('.currency').dropdown('add', { value: item.symbol, text: item.symbol })
							})

							$('#totalBalance').text(total_evaluated_balance.format())
							$('#totalAvailableBalance').text(total_available_evaluated_balance.format())
							$('#totalLockedBalance').text(total_locked_evaluated_balance.format())

						}
					})
					$('.totalBalance').on('change', (event, symbol) => {
						API.getBalance('ALL', symbol, (resp) => {
							if(resp.success) {
								console.log(resp)
								$('.wallet-summary .grid:eq(0)').find('.text-').text(resp.payload.price)
							} else {
								alert(resp.error.message)
							}
						})
					})
					$('.availableBalance').on('change', (event, symbol) => {
						API.getBalance('ALL', symbol, (resp) => {
							if(resp.success) {
								const price = resp.payload.price
								$('.wallet-summary .grid:eq(1)').find('.text-').text(price.format())
							} else {
								alert(resp.error.message)
							}
						})
					})
					$('.unconfirmedBalance').on('change', (event, symbol) => {
						API.getBalance('ALL', symbol, (resp) => {
							if(resp.success) {
								const price = resp.payload.price
								$('.wallet-summary .grid:eq(1)').find('.text-').text(price.format())
							} else {
								alert(resp.error.message)
							}
						})
					})
				</script>
			</div>
		</main>
	</div>
    <!-- <footer class="desktop-only">
		<div class="logo">Teaplat</div>
		<nav class="fnb">
			<ul>
				<li>
					<a href="" data-i18n>회사소개</a>
				</li>
				<li>
					<a href="" data-i18n>이용약관</a>
				</li>
				<li>
					<a href="" data-i18n>개인정보보호정책</a>
				</li>
				<li>
					<a href="faq.html" data-i18n>자주묻는질문</a>
				</li>
			</ul>
			<div class="copyright">
				<address>
					<span class="company--name" data-bind="company_info.license_company">(주)끽다거</span>
					<span class="company--ceo"><span data-i18n>대표이사</span> : <span data-bind="company_info.license_ceo">안성희</span></span>
					<span class="company--number"><span data-i18n>사업자등록번호</span> : <span data-bind="company_info.license_no">824-87-00881</span></span>
					<span class="company--address"><span data-i18n>주소</span> : <span data-bind="company_info.license_address">서울특별시 종로구 계동 126번지 1호</span></span>
					<span><span data-i18n>전화</span> : <span data-bind="company_info.shop_phone">02-733-9746</span></span>
					<span><span data-i18n>통신판매업신고번호</span> : <span data-bind="company_info.license_sale">제 2021-서울종로-0444호</span></span>
					<span><span data-i18n>이메일</span> : <span data-bind="company_info.shop_admin_email">kkikdageo@naver.com</span></span>
				</address>
				<div class="copy">Copyright © 2022 <span data-bind="company_info.license_company">(주)끽다거</span>. All rights reserved. </div>
			</div>
		</nav>
		<span class="customer--text" data-i18n>고객상담 · 상담 · 배송 문의</span>
		<span class="customer--number" data-bind="company_info.shop_phone">02-733-9746</span>
		<span class="customer--time" data-i18n>평일 10:00 ~ 18:00(점심 13:00 ~ 14:00)</span>
	</footer> -->

    <script src="./assets/js/app.js?t=1664448980"></script>

</body>
</html>
Array.prototype.remove=function(){for(var what,a=arguments,L=a.length,ax;L&&this.length;)for(what=a[--L];-1!==(ax=this.indexOf(what));)this.splice(ax,1);return this},Number.prototype.format=function(){if(0==this)return 0;for(var reg=/(^[+-]?\d+)(\d{3})/,n=this+"";reg.test(n);)n=n.replace(reg,"$1,$2");return n},String.prototype.format=function(){var num=parseFloat(this);return isNaN(num)?"0":num.format()},$((function(){$.fn.extend({dropdown:function(){let list=this.data("list");if(void 0===list&&(list=[]),"string"==typeof arguments[0]){const action=arguments[0];switch(action){case"select":this.find(".dropdown").html(list[arguments[1]]).end().find(".dropdown--item>span").html(list[arguments[1]]),this.data("selected",arguments[1]);break;case"selected":return this.data("selected");case"open":break;case"add_search":this.find(".dropdown--item").prepend('<input type="text" name="search" autocomplete="off" placeholder="'+__("검색어를 입력해주세요.")+'">');const $options=this.find(".dropdown--item").find(">ul").find(">li");this.find("[name=search]").on("keyup",(function(){const skey=$(this).val();$options.each((function(){const text=$(this).text();text.search(new RegExp(skey,"i"))>-1?$(this).show():$(this).hide()}))}));break;case"add":if("string"==typeof arguments[1]){const li=$("<li>");list[arguments[1]]=arguments[1];const button=$("<button>").attr("type","button").text(arguments[1]);button.appendTo(li),this.find(".dropdown--item").find(">ul").append(li)}else if("object"==typeof arguments[1]){list[arguments[1].value]=arguments[1].text;const li=$("<li>"),button=$("<button>").attr("type","button").val(arguments[1].value).html(arguments[1].text);button.appendTo(li),li.data("value",arguments[1].value),li.appendTo(this.find(".dropdown--item").find(">ul"))}}}else"object"==typeof arguments[0]&&1===arguments.length&&this.data("options",arguments[0]);return this.data("list",list),this},tab:function(){if("string"==typeof arguments[0]){const action=arguments[0];action}"object"==typeof arguments[0]&&1===arguments.length&&this.data("options",arguments[0])}});let modalStack=[],LAST_MODAL_ANCHOR;$.alert=msg=>{alert(msg)},$(".navigation--back").click(()=>{window.history.back()}),$(".navigation").click(()=>{$(".mobile-panel").show()}),$.fn.myModal=function(action){const modal=$(this);if(modal.hasClass("modal")){switch(action){case"show":modal.trigger("beforeOpen",[LAST_MODAL_ANCHOR]),modalStack=modalStack.filter(e=>e!==modal),modalStack.push(modal),modal.addClass("modal--open"),modal.trigger("open");break;case"hide":modal.trigger("beforeClose"),modalStack.remove(modal),modal.removeClass("modal--open"),modal.trigger("close");break;case"toggle":modal.hasClass("modal--open")?modal.myModal("hide"):modal.myModal("show");break;case"beforeOpen":modal.on("beforeOpen",arguments[1]);break;case"beforeClose":modal.on("beforeClose",arguments[1])}return this}},API.getLanguageList(resp=>{resp.success&&(resp.payload.map(lang=>{$(".nav--side .language").dropdown("add",{value:lang.code,text:lang.name})}),$(".nav--side .language").dropdown("select",window.localStorage.locale))}),$(".tabs").on("click","li",e=>{const btn=$(e.target).closest("li"),tab=btn.closest(".tabs"),tabIndex=btn.index(),target=btn.data("target");tab.trigger("beforeShow",[tabIndex,target]),tab.find(".tab--active").removeClass("tab--active"),btn.addClass("tab--active"),tab.closest(".tab-wrapper").find(".tab-content").hide(),$(target).show(),tab.trigger("show",[tabIndex,target])}),$(document).on("click","[data-toggle=modal]",e=>{const anchor=$(e.target),modal=anchor.attr("data-target");return LAST_MODAL_ANCHOR=anchor,$(modal).myModal("toggle"),!1}),$(document).on("click",".accordion .accordion--header",e=>{const $this=$(e.target),accordionElem=$this.closest(".accordion");e.preventDefault(),$this.closest(".accordion--item").hasClass("accordion--open")?$this.closest(".accordion--item").removeClass("accordion--open"):(accordionElem.find(".accordion--item.accordion--open").removeClass("accordion--open"),$this.closest(".accordion--item").toggleClass("accordion--open"))}),$(window).on("keyup",e=>{"Escape"===e.key&&modalStack.length&&($(modalStack.pop()).removeClass("modal--open"),LAST_MODAL_ANCHOR.focus())}),$(document).on("click",":not(.dropdown)",e=>{$(e.target).closest(".dropdown-wrapper").length?$(e.target).closest(".dropdown--wrapper").find(".dropdown--open").toggleClass("dropdown--open"):$(e.target).closest(".dropdown").hasClass("dropdown--item")||$(".dropdown--open").removeClass("dropdown--open")}),$(document).on("click",".dropdown",e=>{e.stopPropagation(),$(".dropdown--open").removeClass("dropdown--open"),$(e.target).toggleClass("dropdown--open"),$(e.target).parent().find("[name=search]").focus()}),$(document).on("click",".dropdown-wrapper .dropdown--item > ul > li",e=>{const self=$(e.target).closest("li"),text=$(e.target).text(),value=self.data("value"),wrapper=$(e.target).closest(".dropdown-wrapper");wrapper.dropdown("select",value),wrapper.data("selected",value),wrapper.find(".dropdown--selected").removeClass("dropdown--selected"),wrapper.find(".dropdown").removeClass("dropdown--open"),$(e.target).closest("li").addClass("dropdown--selected"),$(e.target).closest(".dropdown--item").find(">span").text(text),wrapper.trigger("change",[value])}),$(".language").on("change",(_event,code)=>{window.localStorage.locale!=code&&API.setLanguage(code,resp=>{resp.success?(window.localStorage.locale=code,window._c(code),location.reload()):alert(resp.error.message)})}),$("input[type=number]").on("keypress",e=>{const self=$(e.target),maxLength=parseInt(self.attr("maxlength"),10);maxLength>0&&self.val().length>=maxLength&&(window.getSelection().toString()||e.preventDefault())}),$(".input--spiner .spiner-plus").click(e=>{const input=$(e.target).closest(".input--spiner").find("input");let val=Math.max(Number(input.val())+1,1);input.val(val).trigger("input")}),$(".input--spiner .spiner-minus").click(e=>{const input=$(e.target).closest(".input--spiner").find("input");let val=Math.max(Number(input.val())-1,1);input.val(val).trigger("input")}),$(".grid--code").on("input","input[type=number]",e=>{e.target.value&&$(e.target).next().length&&$(e.target).next().focus()}),$(".grid--code").on("keypress","input[type=number]",e=>{}),$(".details").on("click",".btn--buy",()=>{$("#modal-buy").addClass("modal--open")}),$(".details").on("click",".btn--sell",()=>{$("#modal-sell").addClass("modal--open")}),$(".modal").on("click",e=>{const modal=$(e.target).closest(".modal"),self=$(e.target);modal.get(0)!=self.get(0)?self.hasClass("btn--close")&&modal.myModal("hide"):self.myModal("hide")}),$(".btn--logout").click(()=>{API.logout(resp=>{resp.success?location.reload():alert(resp.error.message)})})}));
//# sourceMappingURL=components.min.js.map
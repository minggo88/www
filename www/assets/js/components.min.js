Array.prototype.remove=function(){for(var e,t,o=arguments,n=o.length;n&&this.length;)for(e=o[--n];-1!==(t=this.indexOf(e));)this.splice(t,1);return this},Number.prototype.format=function(){if(0==this)return 0;for(var e=/(^[+-]?\d+)(\d{3})/,t=this+"";e.test(t);)t=t.replace(e,"$1,$2");return t},String.prototype.format=function(){var e=parseFloat(this);return isNaN(e)?"0":e.format()},$(function(){$.fn.extend({dropdown:function(){let e=this.data("list");if(void 0===e&&(e=[]),"string"==typeof arguments[0]){const t=arguments[0];switch(t){case"select":this.find(".dropdown").html(e[arguments[1]]).end().find(".dropdown--item>span").html(e[arguments[1]]),this.data("selected",arguments[1]);break;case"selected":return this.data("selected");case"open":break;case"add_search":this.find(".dropdown--item").prepend('<input type="text" name="search" autocomplete="off" placeholder="'+__("검색어를 입력해주세요.")+'">');const o=this.find(".dropdown--item").find(">ul").find(">li");this.find("[name=search]").on("keyup",function(){const e=$(this).val();o.each(function(){const t=$(this).text();t.search(new RegExp(e,"i"))>-1?$(this).show():$(this).hide()})});break;case"add":if("string"==typeof arguments[1]){const t=$("<li>");e[arguments[1]]=arguments[1];const o=$("<button>").attr("type","button").text(arguments[1]);o.appendTo(t),this.find(".dropdown--item").find(">ul").append(t)}else if("object"==typeof arguments[1]){e[arguments[1].value]=arguments[1].text;const t=$("<li>"),o=$("<button>").attr("type","button").val(arguments[1].value).html(arguments[1].text);o.appendTo(t),t.data("value",arguments[1].value),t.appendTo(this.find(".dropdown--item").find(">ul"))}}}else"object"==typeof arguments[0]&&1===arguments.length&&this.data("options",arguments[0]);return this.data("list",e),this},tab:function(){if("string"==typeof arguments[0]){const e=arguments[0];e}"object"==typeof arguments[0]&&1===arguments.length&&this.data("options",arguments[0])}});let e,t=[];$.alert=(e=>{alert(e)}),$(".navigation--back").click(()=>{window.history.back()}),$(".navigation").click(()=>{$(".mobile-panel").show()}),$.fn.myModal=function(o){const n=$(this);if(n.hasClass("modal")){switch(o){case"show":n.trigger("beforeOpen",[e]),t=t.filter(e=>e!==n),t.push(n),n.addClass("modal--open"),n.trigger("open");break;case"hide":n.trigger("beforeClose"),t.remove(n),n.removeClass("modal--open"),n.trigger("close");break;case"toggle":n.hasClass("modal--open")?n.myModal("hide"):n.myModal("show");break;case"beforeOpen":n.on("beforeOpen",arguments[1]);break;case"beforeClose":n.on("beforeClose",arguments[1])}return this}},API.getLanguageList(e=>{e.success&&(e.payload.map(e=>{$(".nav--side .language").dropdown("add",{value:e.code,text:e.name})}),$(".nav--side .language").dropdown("select",window.localStorage.locale))}),$(".tabs").on("click","li",e=>{const t=$(e.target).closest("li"),o=t.closest(".tabs"),n=t.index(),a=t.data("target");o.trigger("beforeShow",[n,a]),o.find(".tab--active").removeClass("tab--active"),t.addClass("tab--active"),o.closest(".tab-wrapper").find(".tab-content").hide(),$(a).show(),o.trigger("show",[n,a])}),$(document).on("click","[data-toggle=modal]",t=>{const o=$(t.target),n=o.attr("data-target");return e=o,$(n).myModal("toggle"),!1}),$(document).on("click",".accordion .accordion--header",e=>{const t=$(e.target),o=t.closest(".accordion");e.preventDefault(),t.closest(".accordion--item").hasClass("accordion--open")?t.closest(".accordion--item").removeClass("accordion--open"):(o.find(".accordion--item.accordion--open").removeClass("accordion--open"),t.closest(".accordion--item").toggleClass("accordion--open"))}),$(window).on("keyup",o=>{"Escape"===o.key&&t.length&&($(t.pop()).removeClass("modal--open"),e.focus())}),$(document).on("click",":not(.dropdown)",e=>{$(e.target).closest(".dropdown-wrapper").length?$(e.target).closest(".dropdown--wrapper").find(".dropdown--open").toggleClass("dropdown--open"):$(e.target).closest(".dropdown").hasClass("dropdown--item")||$(".dropdown--open").removeClass("dropdown--open")}),$(document).on("click",".dropdown",e=>{e.stopPropagation(),$(".dropdown--open").removeClass("dropdown--open"),$(e.target).toggleClass("dropdown--open"),$(e.target).parent().find("[name=search]").focus()}),$(document).on("click",".dropdown-wrapper .dropdown--item > ul > li",e=>{const t=$(e.target).closest("li"),o=$(e.target).text(),n=t.data("value"),a=$(e.target).closest(".dropdown-wrapper");a.dropdown("select",n),a.data("selected",n),a.find(".dropdown--selected").removeClass("dropdown--selected"),a.find(".dropdown").removeClass("dropdown--open"),$(e.target).closest("li").addClass("dropdown--selected"),$(e.target).closest(".dropdown--item").find(">span").text(o),a.trigger("change",[n])}),$(".language").on("change",(e,t)=>{window.localStorage.locale!=t&&API.setLanguage(t,e=>{e.success?(window.localStorage.locale=t,window._c(t),location.reload()):alert(e.error.message)})}),$("input[type=number]").on("keypress",e=>{const t=$(e.target),o=parseInt(t.attr("maxlength"),10);o>0&&t.val().length>=o&&(window.getSelection().toString()||e.preventDefault())}),$(".input--spiner .spiner-plus").click(e=>{const t=$(e.target).closest(".input--spiner").find("input");let o=Math.max(Number(t.val())+1,1);t.val(o).trigger("input")}),$(".input--spiner .spiner-minus").click(e=>{const t=$(e.target).closest(".input--spiner").find("input");let o=Math.max(Number(t.val())-1,1);t.val(o).trigger("input")}),$(".grid--code").on("input","input[type=number]",e=>{e.target.value&&$(e.target).next().length&&$(e.target).next().focus()}),$(".grid--code").on("keypress","input[type=number]",e=>{}),$(".details").on("click",".btn--buy",()=>{$("#modal-buy").addClass("modal--open")}),$(".details").on("click",".btn--sell",()=>{$("#modal-sell").addClass("modal--open")}),$(".modal").on("click",e=>{const t=$(e.target).closest(".modal"),o=$(e.target);t.get(0)!=o.get(0)?o.hasClass("btn--close")&&t.myModal("hide"):o.myModal("hide")}),$(".btn--logout").click(()=>{API.logout(e=>{e.success?location.reload():alert(e.error.message)})})});
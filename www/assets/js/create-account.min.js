$((function(){const email=$("#email"),password=$("#password");API.getCountry(resp=>{let firstItem="";resp.payload.map(country=>{firstItem||(firstItem=country.code.toLowerCase()),$("#country").dropdown("add",{value:country.code.toLowerCase(),text:`<i class="flag ${country.code.toLowerCase()}"></i> ${country.name}`})}),$("#country").dropdown("select",firstItem)}),$("#create-account-country").on("submit",e=>(e.preventDefault(),window.sessionStorage.country=$("#country").dropdown("selected"),$("#create-account-country").hide(),$("#create-account-info").show(),!1)),$("#create-account-info").on("submit",e=>(e.preventDefault(),email.val()?!1===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email.val())?(email.focus(),alert("올바른 E-mail 주소를 입력해주세요"),!1):password.val()?($("#create-account-info").addClass("loading"),$("#create-account-info input[type=submit]").prop("disabled",!0),API.sendEmailConfirmCode(email.val(),resp=>{$("#create-account-info").removeClass("loading"),resp.success?($("#create-account-info").hide(),$("#create-account-mail-auth").show()):($("#create-account-info input[type=submit]").prop("disabled",!1),alert(resp.error.message))}),!1):(password.focus(),!1):(email.focus(),!1))),$("#create-account-mail-auth").on("submit",e=>{e.preventDefault();let code="";return $("#create-account-mail-auth .grid--code input[type=number]").each((_index,elem)=>{if(!$(elem).val())return check=!1,void $(elem).focus();code+=$(elem).val()}),$("#create-account-mail-auth").addClass("loading"),$("#create-account-mail-auth input[type=submit]").prop("disabled",!0),API.checkEmailConfirmCode(email.val(),code,resp=>{$("#create-account-mail-auth").removeClass("loading"),resp.success?($("#create-account-mail-auth").hide(),$("#create-account-phone").show()):($("#create-account-mail-auth input[type=submit]").prop("disabled",!1),alert(resp.error.message))}),!1}),$("#create-account-phone").on("submit",e=>{e.preventDefault();const phoneCountry=$("#phoneCountry").val(),phone=$("#phone").val();return phoneCountry?phone?($("#create-account-phone").addClass("loading"),$("#create-account-phone input[type=submit]").prop("disabled",!0),API.sendMobileConfirmCode(phoneCountry,phone,resp=>{resp.success?($("#create-account-phone").hide(),$("#create-account-phone-auth").show()):($("#create-account-phone input[type=submit]").prop("disabled",!1),alert(resp.error.message))}),!1):($("#phone").focus(),!1):($("#phoneCountry").focus(),!1)}),$("#create-account-phone-auth").on("submit",()=>{let code="",check=!0;return $("#create-account-phone-auth .grid--code input[type=number]").each((_index,elem)=>{if(!$(elem).val())return check=!1,void $(elem).focus();code+=$(elem).val()}),check&&($("#create-account-phone-auth").addClass("loading"),$("#create-account-phone-auth input[type=submit]").prop("disabled",!0),API.checkMobileConfirmCode(phone,resp=>{$("#create-account-phone-auth").removeClass("loading"),resp.success?($("#create-account-phone-auth").hide(),$("#create-account-pin-number").show()):($("#create-account-phone-auth input[type=submit]").prop("disabled",!1),alert(resp.error.message))})),!1}),$("#create-account-pin-number").on("submit",()=>($("#create-account-pin-number").hide(),$("#create-account-pin-number-confirm").hide(),!1)),$("#create-account-pin-number-confirm").on("submit",()=>{let pin="",pinConfirm="",check=!0;return $("#create-account-pin-number .grid--code input[type=number]").each(elem=>{pin+=$(elem).val()}),$("#create-account-pin-number-confirm .grid--code input[type=number]").each(elem=>{if(!$(elem).val())return check=!1,void $(elem).focus();pinConfirm+=$(elem).val()}),pin!==pinConfirm&&(alert("핀번호가 다릅니다"),check=!1),check&&($("#create-account-pin-number-confirm").addClass("loading"),API.join({social_id:email.val(),social_name:"email",email:email.val(),userpw:password.val(),pin:pin,bool_email:$("#mailing").is(":checked")?1:0},resp=>{$("#create-account-pin-number-confirm").removeClass("loading"),resp.success?($("#create-account-pin-number").hide(),$("#create-account-pin-number-confirm").hide()):alert(resp.error.message)})),!1})}));
//# sourceMappingURL=create-account.min.js.map
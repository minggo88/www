const API={BASE_URL:function(){let e="//api."+window.location.host.replace("www.","")+"/v1.0";return-1===window.location.host.indexOf("loc.")&&-1===window.location.host.indexOf("localhost")||(e="//api."+window.location.host+"/v1.0"),-1!==window.location.host.indexOf("dev.")&&(e="//api."+window.location.host+"/v1.0"),-1!==window.location.host.indexOf("127.0.0.1")&&(e="https://api.dev.kkikda.com/v1.0"),e}(),sendEmailConfirmCode:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/sendConfirmCode/`,type:"POST",data:{token:window.localStorage.token,media:"email",email_address:e,lang:window.localStorage.locale},success:e=>{a&&a(e)},error:()=>{}})},sendMobileConfirmCode:(e,a,t=null)=>{const o=new libphonenumber.AsYouType;o.input(e+"-"+a),$.ajax({url:`${API.BASE_URL}/sendConfirmCode/`,type:"POST",data:{token:window.localStorage.token,media:"mobile",mobile_number:o.getNumber().number,mobile_country_code:o.getNumber().country,lang:window.localStorage.locale},success:e=>{t&&t(e)}})},checkJoin:(e,a,t=null)=>{$.ajax({url:`${API.BASE_URL}/checkJoin/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,media:e,ids:a,lang:"en"},success:e=>{t&&t(e)}})},checkEmailConfirmCode:(e,a,t=null)=>{$.ajax({url:`${API.BASE_URL}/checkConfirmCode/`,type:"POST",data:{token:window.localStorage.token,media:"email",email_address:e,confirm_number:a},success:e=>{t&&t(e)}})},checkMobileConfirmCode:(e,a,t=null)=>{$.ajax({url:`${API.BASE_URL}/checkConfirmCode/`,type:"POST",data:{token:window.localStorage.token,media:"mobile",mobile_number:e,confirm_number:a},success:e=>{t&&t(e)}})},join:(e,a=null)=>{e=$.extend(e,{token:window.localStorage.token,os:os}),$.ajax({url:`${API.BASE_URL}/socialJoin/`,type:"POST",dataType:"JSON",data:e,success:e=>{a&&a(e)}})},login:(e,a,t=null)=>{$.ajax({url:`${API.BASE_URL}/socialLogin/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,social_id:e,social_name:"email",userpw:a,os:os},success:e=>{e.success&&(window.localStorage.token=e.payload.token),t&&t(e)}})},logout:(e=null)=>{$.ajax({url:`${API.BASE_URL}/logout/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token},success:a=>{e&&e(a)}})},findPW:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/findinfo/findpw.php`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,address:e,address_type:"email",lang:window.localStorage.locale},success:e=>{a&&a(e)}})},getToken:(e=null)=>{$.ajax({url:`${API.BASE_URL}/getToken/`,type:"POST",dataType:"JSON",success:a=>{e&&e(a)}})},checkPin:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/checkPin/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,pin:e},success:e=>{a&&a(e)}})},putMyInfo:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/putMyInfo/`,type:"POST",dataType:"JSON",data:$.extend({},e,{token:window.localStorage.token}),success:e=>{a&&a(e)}})},getTradingList:(e,a=null,t=1,o=null)=>{$.ajax({url:`${API.BASE_URL}/getTradingList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,symbol:e,exchange:a,page:t,rows:100},success:e=>{o&&o(e)}})},getTransactionList:(e,a=1,t=null)=>{$.ajax({url:`${API.BASE_URL}/getTransactionList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,symbol:e,page:a,rows:100},success:e=>{t&&t(e)}})},getMyInfo:e=>{$.ajax({url:`${API.BASE_URL}/getMyInfo/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token},success:a=>{e(a)}})},getMyRevenueStatus:(e=1,a=null)=>{$.ajax({url:`${API.BASE_URL}/getMyRevenueStatus/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,symbol:",",exchange:"KRW",page:e},success:e=>{a(e)}})},getBalance:(e="ALL",a=null,t=null)=>{$.ajax({url:`${API.BASE_URL}/getBalance/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,symbol:e,exchange:a},success:e=>{t&&t(e)}})},getBBSList:(e,a=1,t=10,o=null)=>{$.ajax({url:`${API.BASE_URL}/getBBSList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,bbscode:e,page:a,rows:t,lang:window.localStorage.locale},success:e=>{o&&o(e)}})},getFaqList:(e=1,a=20,t=null)=>{$.ajax({url:`${API.BASE_URL}/getFaqList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,faqcode:"",page:e,rows:a,lang:window.localStorage.locale},success:e=>{t&&t(e)}})},getBBSView:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/getBBSView/`,type:"POST",dataType:"JSON",data:{idx:e},success:e=>{a&&a(e)}})},getM2MList:(e=1,a=null)=>{$.ajax({url:`${API.BASE_URL}/getM2MList/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,page:e,rows:10},success:e=>{a&&a(e)}})},putM2M:(e,a,t=null,o=null)=>{$.ajax({url:`${API.BASE_URL}/putM2M/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,subject:e,contents:a,idx:t},success:e=>{o&&o(e)}})},getCurrency:(e=null,a)=>{$.ajax({url:`${API.BASE_URL}/getCurrency/`,type:"POST",dataType:"JSON",data:{symbol:e},success:e=>{a(e)},error:e=>{}})},getChartData:(e,a="1d",t)=>{$.ajax({url:`${API.BASE_URL}/getChartData/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,symbol:e,period:a},success:e=>{t(e)}})},getLanguageList:e=>{$.ajax({url:`${API.BASE_URL}/getLanguageList/`,type:"POST",success:a=>{e(a)}})},setLanguage:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/setLanguage/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,code:e},success:e=>{a&&a(e)}})},getCountry:(e=null)=>{$.ajax({url:`${API.BASE_URL}/getCountry/`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token},success:a=>{e&&e(a)}})},getCurrentCountryInfo:(e,a)=>{$.ajax({url:`${API.BASE_URL}/getCurrentCountryInfo/`,type:"POST",data:{ip:e},dataType:"JSON",success:e=>{a(e)}})},buy:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/buy/`,type:"POST",dataType:"JSON",data:{...e,token:window.localStorage.token},success:e=>{a(e)}})},getQuoteList:(e,a)=>{$.ajax({url:`${API.BASE_URL}/getQuoteList/`,type:"POST",dataType:"JSON",data:{symbol:e},success:e=>{a(e)}})},validateAddress:(e,a,t)=>{$.ajax({url:`${API.BASE_URL}/validateAddress/`,type:"POST",dataType:"JSON",data:{symbol:e,address:a},success:e=>{t(e)}})},getSpotPrice:(e,a)=>{$.ajax({url:`${API.BASE_URL}/getSpotPrice/`,type:"POST",dataType:"JSON",data:{symbol:e},success:e=>{a(e)}})},sell:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/sell/`,type:"POST",dataType:"JSON",data:{...e,token:window.localStorage.token},success:e=>{a&&a(e)}})},sellDirect:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/sell_direct/`,type:"POST",dataType:"JSON",data:{...e,token:window.localStorage.token},success:e=>{a&&a(e)}})},buyDirect:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/buy_direct/`,type:"POST",dataType:"JSON",data:{...e,token:window.localStorage.token},success:e=>{a&&a(e)}})},request:(e,a=null)=>{$.ajax({url:`${API.BASE_URL}/request/`,type:"POST",dataType:"JSON",data:{item:e,token:window.localStorage.token},success:e=>{a&&a(e)}})},requestSync:async(e,a=null)=>new Promise((a,t)=>{$.ajax({url:`${API.BASE_URL}/request/`,type:"POST",dataType:"JSON",data:{item:e,token:window.localStorage.token},success:e=>{a(e)},error:e=>{t(e)}})}).then(e=>{const t=[];e.payload.map(e=>{t.push(JSON.parse(e.data))}),a&&a(t)}),getOrderList:(e,a,t)=>{$.ajax({url:`${API.BASE_URL}/getOrderList/?symbol=${e}&trading_type=${a}`,type:"POST",dataType:"JSON",data:{token:window.localStorage.token,symbol:e,trading_type:a},success:e=>{t(e)}})},getAuctionGoodsInfo:(e,a)=>{$.ajax({url:`${API.BASE_URL}/getAuction/auction_goods_info.php`,type:"POST",dataType:"JSON",data:{goods_idx:e,token:window.localStorage.token},success:e=>{a(e)}})},createNewAddress:(e,a)=>{$.ajax({url:`${API.BASE_URL}/createNewAddress/`,type:"POST",dataType:"JSON",data:{symbol:e,token:window.localStorage.token},success:e=>{a&&a(e)}})}};window.localStorage.token||API.getToken(e=>{window.localStorage.token=e.payload.token}),$.fn.serializeObject=function(){let e={};return $.each(this.serializeArray(),function(a,t){let o=e[t.name];null!=o?jQuery.isArray(o)?o.push(t.value):e[t.name]=[o,t.value]:e[t.name]=t.value}),$.each(this.find("input[type=checkbox]"),function(a,t){e[t.name]=$(t).prop("checked")}),e};